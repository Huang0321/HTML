<!DOCTYPE html>
<html>

	<head>
		<title>JavaScript &amp; jQuery - Chapter 11: Content Panels - Tabs</title>
		<link rel="stylesheet" href="css/base.css" />
		<link rel="stylesheet" href="css/tabs.css" />
		<style type="text/css">
			.tab-list a{
				cursor: default;
			}
			.tab-list h3{
				cursor: pointer;
			}
			#NB div{
				display: block;
			}
			#NB{
				margin: auto;
		
				height: 150px;
				overflow: hidden;
			}
		</style>
	</head>

	<body>

		<header>
			<h1>Monsieur Pigeon</h1></header>

		<section class="page">

			<div class="tabs">

				<ul class="tab-list">
					<li class="active">
						<a class="tab-control" href="#tab-1">
							<h3>Description</h3></a>
					</li>
					<li>
						<a class="tab-control" href="#tab-2">
							<h3>Ingredients</h3></a>
					</li>
					<li>
						<a class="tab-control" href="#tab-3">
							<h3>Delivery</h3></a>
					</li>
				</ul>
				<div id="NB">
					<div class="tab-panel active" id="tab-1">
						<p>Take your tastebuds for a gentle stroll through an English garden filled with Monsieur Pigeon's beautifully fragrant Flower Series marshmallows. With three sweetly floral options: <strong>Elderberry</strong>, <strong>Rose Petal</strong>, and <strong>Chrysanthemum</strong> - all edible and all naturally flavored - they will have you dreaming of butterflies and birdsong in no time.</p>
					</div>
	
					<div class="tab-panel" id="tab-2">
						<p><strong>ELDERBERRY:</strong> sugar, glucose syrup, elderberry concentrate, gelatine, natural color, cornflour, confectioner's sugar <strong>ROSE PETAL:</strong> sugar, glucose syrup, rose water, gelatine, natural color, cornflour, sugared rose petals, confectioner's sugar <strong>CHRYSANTHEMUM:</strong> sugar, glucose syrup, natural chrysanthemum extract, gelatine, natural color, cornflour, confectioner's sugar</p>
					</div>
	
					<div class="tab-panel" id="tab-3">
						<p>Free postage and packaging on all orders! Due to the perishable nature of our product, we regret that we are unable to ship items internationally at this time. If you would like to find out when Monsieur Pigeon is coming to your country, please sign up for the mailing list.</p>
					</div>
				</div>
			</div>
			<!-- .tabs -->

		</section>
		<!-- .page -->
		<script src="js/myLip.js"></script>
		<script type="text/javascript">
			(function(){
				var tabs = document.querySelectorAll(".tab-list h3");
				for (var i = 0; i < tabs.length; i += 1){
					handleEvent(tabs[i], 'click', function(evt){
						deactiveAllTabs();
						evt = evt || window.event;
						evt.stopPropagation();
						deactiveAllTabs();
						var currentTab = evt.target.parentNode.parentNode || evt.srcElement.parentNode.parentNode;
						currentTab.setAttribute("class", "active");
						hideAllContents();
//						var hrefValue = evt.target.parentNode.href;
//						var divName = hrefValue.substring(hrefValue.search("#")+1);
//						$(divName).style.display = "block";
					})
				}
			}())
			function deactiveAllTabs(){
				var tabs = document.querySelectorAll(".tab-list li");
				for (var i = 0;  i < tabs.length; i += 1){
					tabs[i].setAttribute("class", "");
				}	
			}
//			function hideAllContents(){
//				var divs = document.querySelectorAll(".tab-panel");
//				for (var i = 0; i < divs.length; i += 1){
//					divs[i].style.display = "none";
//				}
//			}
		</script>
		<!--<script>
			var titleList = document.querySelectorAll(".tab-list li a");
			console.log(titleList);
			var pList = document.querySelectorAll(".tab-panel");
			for(var i = 0; i < titleList.length; i += 1) {
				handleEvent(titleList[i], "click", function(evt) {
					console.log(i);
					console.log(titleList[i]);
					var elem = evt.target.parentNode;
					var num = elem.href.search("#");
					console.log(num);
					var id = elem.href.substr(96, 100);
					console.log(id);
					var targetElem = document.getElementById(id);
					console.log(targetElem);
					for(var b = 0; b < 3; b += 1) {
						pList[b].style.display = "none";
					}
					pList[i].style.display = "block";
				})
			}
		</script>-->
	</body>

</html>